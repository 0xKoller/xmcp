---
title: "XMCP documentation"
metadataTitle: "xmcp - Getting Started | Documentation"
publishedAt: "2025-07-4"
summary: "Lorem ipsum"
---

# Documentation

XMCP is a lightweight, extensible framework for building and deploying powerful AI MCP tools. To add tools for your AI, you just need to create a new file in the `src/tools` directory, XMCP will automatically load them into the MCP server.

## Getting started

You can create a new XMCP app from scratch or add it to an existing project.

- [Add XMCP to Next.js](#add-xmcp-to-nextjs)
- [Add XMCP to Express](#add-xmcp-to-express)

### Create a new XMCP app

To get started, run the following command on your terminal:

```bash
npx create-xmcp-app@latest
```

You will be asked to configure your project:

- Set a directory name for your project (or the current one)
- Select a package manager (npm, pnpm, or yarn)
- Choose transports (HTTP, STDIO, or both)
- Configure Vercel deployment (optional)

#### HTTP transport

If you want to deploy your MCP on a server, you can use the HTTP transport. This can be used to create tools like fetching your database or perform fetch operations.

#### STDIO transport

STDIO transport is useful when you want to use your MCP server locally, useful for enabling your AI to perform operations on your machine. For example, you can create tools like searching and compressing images on a folder.

## Project structure

A basic project structure is as follows:

```
my-project/
├── src/
│   ├── middleware.ts   # Middleware for http request/response processing
│   └── tools/          # Tool files are auto-discovered here
│       ├── add.ts
│       ├── multiply.ts
├── dist/               # Built output (generated)
├── package.json
├── tsconfig.json
└── xmcp.config.ts       # Configuration file for xmcp
```

### Creating tools

Xmcp detects files under `src/tools/` directory and registers them as tools.
This folder can be configured in the `xmcp.config.ts` file.

The tool file should export three elements:

- **Schema**: The input parameters using Zod schemas.
- **Metadata**: The tool's identity and behavior hints.
- **Default**: The tool handler function.

```typescript
// src/tools/add.ts

import { z } from "zod";
import { type InferSchema } from "xmcp";

// 1. Schema - Define input parameters
export const schema = {
  a: z.number().describe("First number to add"),
  b: z.number().describe("Second number to add"),
};

// 2. Metadata - Define tool identity and hints
export const metadata = {
  name: "add",
  description: "Add two numbers together",
  annotations: {
    title: "Add Two Numbers",
    readOnlyHint: true,
    destructiveHint: false,
    idempotentHint: true,
  },
};

// 3. Implementation - The actual tool logic
export default async function add({ a, b }: InferSchema<typeof schema>) {
  return {
    content: [{ type: "text", text: String(a + b) }],
  };
}
```

## Tool file structure

### 1. Schema (Required)

```typescript
import { z } from "zod";

export const schema = {
  a: z.number().describe("First number to add"),
  b: z.number().describe("Second number to add"),
};
```

The schema object defines the tool's parameters with:

- **Key**: Parameter name
- **Value**: Zod schema with `.describe()` for documentation. This will be visibile through the inspector.
- **Purpose**: Type validation and automatic parameter documentation.

### 2. Metadata (Required)

Define the tool's identity and behavior hints. The metadata object provides:

- **Name**: Unique identifier for the tool
- **Description**: Brief explanation of what the tool does
- **Annotations**: Behavioral hints for AI models and UIs

```typescript
export const metadata = {
  name: "add",
  description: "Add two numbers together",
  annotations: {
    title: "Add Two Numbers", // Human-readable display name
    readOnlyHint: true, // true = doesn't modify external state
    destructiveHint: false, // true = performs destructive operations
    idempotentHint: true, // true = same inputs = same outputs
  },
};
```

### 3. Implementation (Required)

The default export function that performs the actual work.

- **Parameters**: Automatically typed from your schema using the built-in `InferSchema`.
- **Returns**: MCP-compatible response with content array.
- **Async**: Supports async operations for API calls, file I/O, etc.

```typescript
import { type InferSchema } from "xmcp";

export default async function add({ a, b }: InferSchema<typeof schema>) {
  return {
    content: [{ type: "text", text: String(a + b) }],
  };
}
```

## Add XMCP to Next.js

XMCP can work on top of your existing Next.js project. To get started, run the following command:

```bash
npx init-xmcp-app@latest --nextjs
```

You will be asked to configure your project:

## Add XMCP to Express

XMCP can work on top of your existing Express project. To get started, run the following command:

```bash
npx init-xmcp-app@latest --express
```

After setting up the project, your build and dev command should look like this:

```json
{
  "scripts": {
    "dev": "xmcp dev & existing-build-command",
    "build": "xmcp build && existing-build-command"
  }
}
```

When running `dev` or `build` command, XMCP will bundle your tools into `.xmcp/adapter`.

You should add the `/mcp` endpoint in your existing server.

```typescript
import { xmcpAdapter } from "path/to/.xmcp/adapter";

app.get("/mcp", xmcpAdapter);

app.post("/mcp", xmcpAdapter);
```
